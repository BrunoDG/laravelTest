{"version":3,"sources":["app.js","nav.js","product.js","percentage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function() {\n  angular.module('app', []);\n})();\n","(function() {\n  angular.module('app')\n    .controller('nav', navController);\n\n  navController.$inject = ['$scope', 'product'];\n\n  function navController($scope, product) {\n    var vm = this;\n    var allStock = 0;\n\n    vm.products = [];\n\n    vm.product = {\n      id: '',\n      sku: '',\n      name: '',\n      stock: ''\n    };\n\n    vm.save = saveProduct;\n    vm.delete = deleteProduct;\n    vm.edit = editProduct;\n    vm.mix = mix;\n\n    updateList();\n\n    function updateList() {\n      product.list().then(calcMix);\n    }\n\n    function saveProduct($valid) {\n      if(!$valid) {\n        return ;\n      }\n\n      if (vm.product.id) {\n        product.update(vm.product.id, vm.product).then(updateList).catch(function() {\n          alert(\"SKU duplicado, favor alterar.\");\n        });\n      }\n\n      if (!vm.product.id) {\n        product.create(vm.product).then(updateList).catch(function() {\n          alert(\"SKU duplicado, favor alterar.\");\n        });;\n      }\n\n    }\n\n    function deleteProduct(id) {\n      product.delete(id).then(updateList);\n    }\n\n    function editProduct(id) {\n      product.read(id).then(function(response) {\n        vm.product = response.data;\n      });\n    }\n\n    function mix(stock) {\n\n      if (parseInt(allStock) === 0 || parseInt(stock) === 0) {\n        return 0;\n      }\n\n      return stock / allStock;\n    }\n\n    function calcMix(response) {\n      var item = 0;\n\n      vm.products = response.data;\n\n      for (item in vm.products) {\n        allStock += parseInt(vm.products[item].stock);\n      }\n    }\n\n  }\n})();\n","(function() {\n  angular.module('app')\n    .factory('product', product);\n\n    product.$inject = ['$http'];\n\n    function product($http) {\n      var mock = [];\n\n      var product = {\n        create: createProduct,\n        read: readProduct,\n        update: updateProduct,\n        delete: deleteProduct,\n        list: listProduct\n      };\n\n      return product;\n\n      function createProduct(data) {\n        var data = {\n          sku: data.sku,\n          name: data.name,\n          stock: data.stock\n        };\n\n        return $http.post('/api/product', data);\n      }\n\n      function readProduct(id) {\n        return $http.get('/api/product/' + id );\n      }\n\n      function updateProduct(id, value) {\n        return $http.put('/api/product/' + id, value);\n      }\n\n      function deleteProduct(id) {\n        return $http.delete('/api/product/delete/' + id);\n      }\n\n      function listProduct() {\n        return $http.get('/api/product');\n      }\n    }\n\n})();\n","(function () {\n  angular.module('app')\n    .filter('percentage', percentage);\n\n    percentage.$inject = ['$filter']\n\n    function percentage($filter) {\n      return filter;\n\n      function filter(input, decimals) {\n          return $filter('number')(input * 100, decimals) + '%';\n      }\n    }\n})();\n"],"sourceRoot":"/source/"}